!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["react-dom","react"],t):e.ReactDraggable=t(e.ReactDOM,e.React)}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var r=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case p:case a:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case u:return e;default:return t}}case y:case g:case r:return t}}}function h(e){return m(e)===p}t.typeOf=m,t.AsyncMode=c,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=r,t.Profiler=s,t.StrictMode=i,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===i||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f)},t.isAsyncMode=function(e){return h(e)||m(e)===c},t.isConcurrentMode=h,t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===y},t.isMemo=function(e){return m(e)===g},t.isPortal=function(e){return m(e)===r},t.isProfiler=function(e){return m(e)===s},t.isStrictMode=function(e){return m(e)===i},t.isSuspense=function(e){return m(e)===d}});n(r);r.typeOf,r.AsyncMode,r.ConcurrentMode,r.ContextConsumer,r.ContextProvider,r.Element,r.ForwardRef,r.Fragment,r.Lazy,r.Memo,r.Portal,r.Profiler,r.StrictMode,r.Suspense,r.isValidElementType,r.isAsyncMode,r.isConcurrentMode,r.isContextConsumer,r.isContextProvider,r.isElement,r.isForwardRef,r.isFragment,r.isLazy,r.isMemo,r.isPortal,r.isProfiler,r.isStrictMode,r.isSuspense;var a=o(function(e,t){});n(a);a.typeOf,a.AsyncMode,a.ConcurrentMode,a.ContextConsumer,a.ContextProvider,a.Element,a.ForwardRef,a.Fragment,a.Lazy,a.Memo,a.Portal,a.Profiler,a.StrictMode,a.Suspense,a.isValidElementType,a.isAsyncMode,a.isConcurrentMode,a.isContextConsumer,a.isContextProvider,a.isElement,a.isForwardRef,a.isFragment,a.isLazy,a.isMemo,a.isPortal,a.isProfiler,a.isStrictMode,a.isSuspense,o(function(e){e.exports=r});var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Function.call.bind(Object.prototype.hasOwnProperty);function c(){}function p(){}p.resetWarningCache=c;var f=o(function(e){e.exports=function(){function e(e,t,n,o,r,a){if(a!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:p,resetWarningCache:c};return n.PropTypes=n,n}()}),d=o(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=n.apply(null,r);i&&e.push(i)}else if("object"===a)for(var s in r)t.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()});function g(e,t){for(var n=0,o=e.length;n<o;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function y(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function m(e){return"number"==typeof e&&!isNaN(e)}function h(e){return parseInt(e,10)}function b(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var v=["Moz","Webkit","O","ms"];function S(e,t){return t?""+t+function(e){for(var t="",n=!0,o=0;o<e.length;o++)n?(t+=e[o].toUpperCase(),n=!1):"-"===e[o]?n=!0:t+=e[o];return t}(e):e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<v.length;n++)if(S(e,v[n])in t)return v[n];return""}(),x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},P=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},E=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T="";function N(e,t){return T||(T=g(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return y(e[t])})),!!y(e[T])&&e[T](t)}function j(e,t,n){var o=e;do{if(N(o,t))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function k(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function _(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function L(e){if(e){var t,n,o=e.getElementById("react-draggable-style-el");o||((o=e.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",o.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(o)),e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(t.className+=" "+n))}}function R(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function X(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var r=F(e);if("string"==typeof o){var a=r.ownerDocument,i=a.defaultView,s=void 0;if(!((s="parent"===o?r.parentNode:a.querySelector(o))instanceof i.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var u=i.getComputedStyle(r),l=i.getComputedStyle(s);o={left:-r.offsetLeft+h(l.paddingLeft)+h(u.marginLeft),top:-r.offsetTop+h(l.paddingTop)+h(u.marginTop),right:function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=h(n.paddingLeft),t-=h(n.paddingRight)}(s)-function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=h(n.borderLeftWidth),t+=h(n.borderRightWidth)}(r)-r.offsetLeft+h(l.paddingRight)-h(u.marginRight),bottom:function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=h(n.paddingTop),t-=h(n.paddingBottom)}(s)-function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=h(n.borderTopWidth),t+=h(n.borderBottomWidth)}(r)-r.offsetTop+h(l.paddingBottom)-h(u.marginBottom)}}return m(o.right)&&(t=Math.min(t,o.right)),m(o.bottom)&&(n=Math.min(n,o.bottom)),m(o.left)&&(t=Math.max(t,o.left)),m(o.top)&&(n=Math.max(n,o.top)),[t,n]}function Y(e,t,n){var o="number"==typeof t?function(e,t){return e.targetTouches&&g(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&g(e.changedTouches,function(e){return t===e.identifier})}(e,t):null;if("number"==typeof t&&!o)return null;var r=F(n),a=n.props.offsetParent||r.offsetParent||r.ownerDocument.body;return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(o||e,a)}function A(e,t,n){var o=e.state,r=!m(o.lastX),a=F(e);return r?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}}function $(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function F(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var V={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},U=V.mouse,W=function(n){function o(){var t,n,r;x(this,o);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=P(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this].concat(i))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(t){if(r.props.onMouseDown(t),!r.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(r);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var o=n.ownerDocument;if(!(r.props.disabled||!(t.target instanceof o.defaultView.Node)||r.props.handle&&!j(t.target,r.props.handle,n)||r.props.cancel&&j(t.target,r.props.cancel,n))){var a=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(t);r.setState({touchIdentifier:a});var i=Y(t,a,r);if(null!=i){var s=i.x,u=i.y,l=A(r,s,u);r.props.onStart,!1!==r.props.onStart(t,l)&&(r.props.enableUserSelectHack&&L(o),r.setState({dragging:!0,lastX:s,lastY:u}),k(o,U.move,r.handleDrag),k(o,U.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=Y(e,r.state.touchIdentifier,r);if(null!=t){var n,o,a,i=t.x,s=t.y;if(Array.isArray(r.props.grid)){var u=i-r.state.lastX,l=s-r.state.lastY,c=(n=r.props.grid,o=u,a=l,[Math.round(o/n[0])*n[0],Math.round(a/n[1])*n[1]]),p=E(c,2);if(u=p[0],l=p[1],!u&&!l)return;i=r.state.lastX+u,s=r.state.lastY+l}var f=A(r,i,s);if(!1!==r.props.onDrag(e,f))r.setState({lastX:i,lastY:s});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(d)}}},r.handleDragStop=function(t){if(r.state.dragging){var n=Y(t,r.state.touchIdentifier,r);if(null!=n){var o=n.x,a=n.y,i=A(r,o,a),s=e.findDOMNode(r);s&&r.props.enableUserSelectHack&&R(s.ownerDocument),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(t,i),s&&(_(s.ownerDocument,U.move,r.handleDrag),_(s.ownerDocument,U.stop,r.handleDragStop))}}},r.onMouseDown=function(e){return U=V.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return U=V.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return U=V.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return U=V.touch,r.handleDragStop(e)},P(r,n)}return C(o,n),D(o,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;_(n,V.mouse.move,this.handleDrag),_(n,V.touch.move,this.handleDrag),_(n,V.mouse.stop,this.handleDragStop),_(n,V.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&R(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O({touchAction:"none"},e)}(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(t.Component);W.displayName="DraggableCore",W.propTypes={allowAnyClick:f.bool,disabled:f.bool,enableUserSelectHack:f.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:f.arrayOf(f.number),scale:f.number,handle:f.string,cancel:f.string,onStart:f.func,onDrag:f.func,onStop:f.func,onMouseDown:f.func,className:b,style:b,transform:b},W.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var I=function(n){function o(e){x(this,o);var t=P(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,$(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var o=$(t,n),r={x:o.x,y:o.y};if(t.props.bounds){var a=r.x,i=r.y;r.x+=t.state.slackX,r.y+=t.state.slackY;var s=X(t,r.x,r.y),u=E(s,2),l=u[0],c=u[1];r.x=l,r.y=c,r.slackX=t.state.slackX+(a-r.x),r.slackY=t.state.slackY+(i-r.y),o.x=r.x,o.y=r.y,o.deltaX=r.x-t.state.x,o.deltaY=r.y-t.state.y}if(!1===t.props.onDrag(e,o))return!1;t.setState(r)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,$(t,n)))return!1;var o={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var r=t.props.position,a=r.x,i=r.y;o.x=a,o.y=i}t.setState(o)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return C(o,n),D(o,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n,o,r,a,i,s={},u=null,l=!Boolean(this.props.position)||this.state.dragging,c=this.props.position||this.props.defaultPosition,p={x:function(e){return"both"===e.props.axis||"x"===e.props.axis}(this)&&l?this.state.x:c.x,y:function(e){return"both"===e.props.axis||"y"===e.props.axis}(this)&&l?this.state.y:c.y,r:this.props.rotate?this.props.rotate:0};this.state.isElementSVG?u="translate("+(i=p).x+", "+i.y+") rotate("+i.r+")":(o=(n=p).x,r=n.y,a=n.r,s=M({},S("transform",w),"translate("+o+"px, "+r+"px) rotate("+a+"deg)"));var f=this.props,g=f.defaultClassName,y=f.defaultClassNameDragging,m=f.defaultClassNameDragged,h=t.Children.only(this.props.children),b=d(h.props.className||"",g,(M(e={},y,this.state.dragging),M(e,m,this.state.dragged),e));return t.createElement(W,O({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:b,style:O({},h.props.style,s),transform:u}))}}]),o}(t.Component);return I.displayName="Draggable",I.propTypes=O({},W.propTypes,{axis:f.oneOf(["both","x","y","none"]),bounds:f.oneOfType([f.shape({left:f.number,right:f.number,top:f.number,bottom:f.number}),f.string,f.oneOf([!1])]),defaultClassName:f.string,defaultClassNameDragging:f.string,defaultClassNameDragged:f.string,defaultPosition:f.shape({x:f.number,y:f.number}),position:f.shape({x:f.number,y:f.number}),className:b,style:b,transform:b}),I.defaultProps=O({},W.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),I.default=I,I.DraggableCore=W,I});
//# sourceMappingURL=react-draggable.min.js.map
